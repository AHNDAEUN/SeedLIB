<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.seed.lib.board.BoardMapper">

			<insert id="setAdd" parameterType="BoardVO">
			
				INSERT  INTO BOARD VALUES(null,#{title},#{contents},#{writer},now(),0,0)
			
			</insert>
			
			<select id="getList" parameterType="BoardVO" resultType="BoardVO">
			
				
					SELECT * FROM BOARD;
					
			
			</select>
			
			
			
			<select id="getDetail" parameterType="BoardVO" resultMap="getDetailResult">
			
					SELECT B.* , BF.*
					FROM `BOARD` B
					INNER JOIN 
					`BOARDFILE` BF 
					ON B.BOARDNUM= BF.BOARDNUM
					WHERE B.BOARDNUM= #{boardNum}
			
			
			</select>
			
			<resultMap type="BoardVo" id="getDetailResult">
				
					<id column="boardNum" property="boardNum"/>
					<result column="title" property="title"/>
					<result column="contents" property="contents"/>
					<result column="writer" property="writer"/>
					<result column="regdate" property="regDate"/>
					<result column="hit" property="hit"/>
					<result column="secret" property="secret"/>
							<collection property="boardFileVOs" javaType="List" ofType="BoardFileVO">
							<id column="fileNum" property="fileNum"/>
							<result column="fileName" property="fileName"/>
							<result column="oriName" property="oriName"/>
							</collection>
			</resultMap >




</mapper>